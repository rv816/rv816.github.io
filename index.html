<!DOCTYPE html>
<html class='height_100'>
<head>
<title>GRDR CDM Browser</title>
<meta content="Algolia's Search API makes it easy to deliver a great search experience in your apps &amp; websites. Algolia Search provides hosted full-text, numerical, faceted and geolocalized search." name='description'>
<meta content='hosted, full-text, facet, faceted, numerical, geolocation, search, rest, api, relevance, popularity, mobile' name='keywors'>
<link href='https://d3ibatyzauff7b.cloudfront.net/assets/favicon-9b8aeabc111020c2411e87222b08a5bd.ico' rel='shortcut icon'>
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<meta content='summary_large_image' name='twitter:card'>
<meta content='@algolia' name='twitter:site'>
<meta content='Hosted cloud search as a service' name='twitter:title'>
<meta content="Algolia's Search API makes it easy to deliver a great search experience in your apps &amp; websites. Algolia Search provides hosted full-text, numerical, faceted and geolocalized search." name='twitter:description'>
<meta content='https://d3ibatyzauff7b.cloudfront.net/assets/Algolia-Banner_1200x500-9085210a2b6f07a4c76e70a6abe259b8.png' name='twitter:image:src'>
<meta content='www.algolia.com' name='twitter:domain'>
<meta content='Hosted cloud search as a service' property='st:title'>
<meta content='https://www.algolia.com/e/ef57c4c6' property='og:url'>
<meta content='Algolia' property='og:site_name'>
<meta content='Hosted cloud search as a service' property='og:title'>
<meta content="Algolia's Search API makes it easy to deliver a great search experience in your apps &amp; websites. Algolia Search provides hosted full-text, numerical, faceted and geolocalized search." property='og:description'>
<meta content='https://d3ibatyzauff7b.cloudfront.net/assets/Algolia-Banner_1200x500-9085210a2b6f07a4c76e70a6abe259b8.png' property='og:image'>
<meta content='1200' property='og:image:width'>
<meta content='500' property='og:image:height'>
<link href="https://d3ibatyzauff7b.cloudfront.net/assets/application-8d2b14f91b0b41cd150435ba039961df.css" media="all" rel="stylesheet" type="text/css" />
<script src="https://d3ibatyzauff7b.cloudfront.net/assets/application-457fe258ca60591bbdb38ec84a117174.js" type="text/javascript"></script>
<!--[if lt IE 9]>
<link href="https://d3ibatyzauff7b.cloudfront.net/assets/ie-76071597f2842bcd91fc8e1a931fa929.css" media="screen" rel="stylesheet" type="text/css" />
<script src="https://d3ibatyzauff7b.cloudfront.net/assets/respond.min-1e58cee3dc71e3da71c227b49905d0dc.js" type="text/javascript"></script>
<script src="https://d3ibatyzauff7b.cloudfront.net/assets/html5-edaded9c29babfcbf5f875c95e8e87a3.js" type="text/javascript"></script>
<![endif]-->
<meta content="authenticity_token" name="csrf-param" />
<meta content="wDPmeiUTZixzYrTDXwa1lLbiCF72Mi5FHXcIXsVlWp4=" name="csrf-token" />
<script src="https://d3ibatyzauff7b.cloudfront.net/assets/algolia/algoliasearch.min-ca3c03fc39e3e4ddeb2589b6e2b2c73d.js" type="text/javascript"></script>
  <head>
   <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,700,800,600' rel='stylesheet' type='text/css'>
  </head>
</head>
<body>
<div id='clear-page'>
<div class='container'>
<div class='m-l-r-auto m1000'>
<div class='text-center hidden-xs'>
<h1 style="color:white">NIH Global Rare Disease Repository</h1>
<h2 style="color:white">Data Coordinating Center @ CHOP</h2>
</a><div class='spacer40'></div>
</div>
<div class='text-center visible-xs'>
<a href="/"><img alt="Algolia_white" src="https://d3ibatyzauff7b.cloudfront.net/assets/algolia_white-1f089a49a2fd1b5eb32b1d8ed240b4a7.png" style="height: 40px;" />
</a></div>
<!--
DETAILS
======
Index: omop_concepts
Application ID: 31K5UZ93QX
Public API key: d36dd7750ca00f7e417702bd1664d51a
Index: omop_concepts
Title: Boogo
Subtitle: 
-->
<!--
START COPY/PASTE
8<---------------8<---------------8<---------------8<---------------
-->
<!--
=======================================
|| uncomment if not already included  ||
=======================================
<link href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" media="all" rel="stylesheet" type="text/css" />
<link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" media="all" rel="stylesheet" type="text/css" />
<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
<script src="http://demos.algolia.com/algoliasearch.min.js" type="text/javascript"></script>
-->
<!-- ======================== -->
<!-- DEMO APPLICATION: CSS snippet -->
<!-- ======================== -->
<style>
  .search-form {
    margin: 0;
    padding: 0;
    border: 0;
    outline: 0;
    font-size: 100%;
    vertical-align: baseline;
    background: transparent;
    display: block;
    line-height: normal;
    color: #333;
  }
  
  .search-box-wrapper {
    padding: 10px 15px;
    font-size: 1em;
    background-color: #5191d1;
    border-top-right-radius: 3px;
    border-top-left-radius: 3px;
    max-width: 100%;
    margin: 0px auto 20px auto;
  }
  
  .search-box {
    margin: 0px 0 0 0;
    padding: 0 0 0 0;
    position: relative;
    height: 45px;
  }
  
  #inputfield {
    margin-right: 56px;
  }
  
  #inputfield input {
    width: 100%;
    height: 45px;
    display: block;
    border: 1px solid #cfcfcf;
    color: #000;
    border-top-left-radius: 4px;
    border-bottom-left-radius: 4px;
    -webkit-appearance: none;
    padding: 10px 13px 10px 13px;
    line-height: 23px;
    float: left;
    font-size: 1em;
    background-color: white;
    -webkit-rtl-ordering: logical;
    -webkit-user-select: text;
    cursor: auto;
    margin: 0em;
    border-radius: 4px 0px 0px 4px;
    font-family: 'Open Sans', sans-serif;
    font-weight: 400;
  }
  #inputfield input:focus {
    outline-width: 0px;
  }
  
  .search-box .searchbutton {
    cursor: pointer;
    display: inline-block;
    padding: 0px;
    width: 56px;
    height: 45px;
    margin: 0px 0 0 -1px;
    border-top-right-radius: 4px;
    border-bottom-right-radius: 4px;
    background-color: #FFFFFF;
    border: 1px solid #999;
    text-align: center;
    color: #5191d1;
  }
  
  .searchbutton i {
    display:inline-block;
    margin-top: 7px;
    vertical-align: middle;
    font-size: 25px;
  }
  h1 {
    font-family: 'Open Sans', sans-serif;
    letter-spacing: 1px;
    font-weight: 800;
    font-size: 45px
  }
    h2 {
    font-family: 'Open Sans', sans-serif;
    letter-spacing: 1px;
    font-weight: 300;
    font-size: 35px
  }
  
  #facets {
    float: left;
    font-family: 'Open Sans', sans-serif;
    font-weight: 400
  }
  
  #facets li.active {
    font-weight: bold;
    font-family: 'Open Sans', sans-serif;
    font-weight: 400
  }
  
  #hits {
    min-height: 500px;
    font-family: 'Open Sans', sans-serif;
  }
  
  .hit {
    padding: 5px 10px;
    font-family: 'Open Sans', sans-serif;
    margin-bottom: 10px;
    border: 1px solid #5191d1;
  }
  
  .hit em {
    font-style: normal;
    font-family: 'Open Sans', sans-serif;
    font-weight: bold;
    color: #1D52E1;
  }
</style>

<!-- ======================== -->
<!-- DEMO APPLICATION: HTML snippet -->
<!-- ======================== -->
<section class='panel'>
<div class='panel-body'>

<div class='h3 pull-left'>GRDR Common Data Model Terminology Browser</div>
<div class='clearfix'></div>
<div class='spacer20 hidden-xs'></div>
<div class='text-center hidden-xs'>
Based on OMOP v4 CDM Vocabulary
<code>http://omop.org/CDM</code>
</div>
<div class='spacer20'></div>
<div class='search-box-wrapper'>
<div class='search-box'>
<div id='inputfield'>
<input autocomplete='off' autocorrect='off' name='address' placeholder='Enter concept name, concept class, vocabulary' spellcheck='false' type='text'>
</div>
<div class='searchbutton'>
<i class='icon-search'></i>
</div>
</div>
</div>
<div class='text-right text-small' id='stats'></div>
<div id='facets'></div>
<div id='hits'></div>
</div>
</section>
<!-- ======================== -->
<!-- DEMO APPLICATION: javascript snippet -->
<!-- ======================== -->
<script>
  // Helper
  Number.prototype.number_with_delimiter = function(delimiter) {
    var number = this + '', delimiter = delimiter || ',';
    var split = number.split('.');
    split[0] = split[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g, '$1' + delimiter);
    return split.join('.');
  };
  
  // faceting global variables
  var refinements = {};
  function toggleRefinement(facet, value) {
    var refine = facet + ':' + value;
    refinements[refine] = !refinements[refine];
    search();
  }
  
  // strip HTML tags + keep <em>, <p>, <b>, <i>, <u>, <strong>
  function stripTags(v) {
    return $('<div />').text(v).html().replace(/&lt;(\/)?(em|p|b|i|u|strong)&gt;/g, '<$1$2>');
  }
  
  // function called on each keystroke
  function searchCallback(success, content) {
    if (content.query != $("#inputfield input").val()) {
      // this results is out-dated, do not consider it
      return;
    }
  
    if (content.hits.length == 0 || content.query.trim() === '') {
      // no results or empty query
      $('#stats').empty();
      $('#facets').empty();
      $('#hits').empty();
      return;
    }
  
    var res = '';
    for (var i = 0; i < content.hits.length; ++i) {
      var hit = content.hits[i];
  
      // render the hit
      res += '<div class="hit">';
      /// hit image ?
      if ('' !== '') {
        res += '<img src="' + stripTags(hit['']) + '" style="width: 100px;" class="pull-left m-r m-b" />';
      }
      /// hit title (primary attribute)
      if ('CONCEPT_NAME' !== '') {
        var v = hit._highlightResult['CONCEPT_NAME'] ?
          hit._highlightResult['CONCEPT_NAME'].value :
          hit['CONCEPT_NAME'];
        res += '<span class="h4">';
        if ('' !== '') { // url attribute
          res += '<a href="' + stripTags(hit['']) + '">' + stripTags(v) + '</a>';
        } else {
          res += stripTags(v);
          res += '<br>';
        }
        res += '</span> ';
      }

      // hit subtitle (secondary attribute)
      if ('CONCEPT_CLASS' !== '' && 'CONCEPT_CLASS' !== 'terminology_name') {
        var v = hit._highlightResult['CONCEPT_CLASS'] ?
          hit._highlightResult['CONCEPT_CLASS'].value :
          hit['CONCEPT_CLASS'];
        if (v && v.trim() !== '') {
          res += '' + stripTags(v) + '</p>';
        }
      }
            if ('objectID' !== '') {
        var v = hit._highlightResult['objectID'] ?
          hit._highlightResult['objectID'].value :
          hit['objectID'];
        if (v && v.trim() !== '') {
          res += "<dl class='dl-horizontal'>";
          res += "<dt>OMOP Concept ID: </dt><dd>" + stripTags(v) + "</dd><br>";
        }
      }

      if ('terminology_name' !== '') {
        var v = hit._highlightResult['terminology_name'] ?
          hit._highlightResult['terminology_name'].value :
          hit['terminology_name'];
        if (v && v.trim() !== '') {
          res += "<dt>Source Terminology: </dt><dd>" + stripTags(v) + "</dd>";
        }
      }
    

       if ('CONCEPT_CODE' !== '') {
        var v = hit._highlightResult['CONCEPT_CODE'] ?
          hit._highlightResult['CONCEPT_CODE'].value :
          hit['CONCEPT_CODE'];
        if (v && v.trim() !== '') {
         res += "<dt>Source Term Code: </dt><dd>" + stripTags(v) + "<dd></dl>";
        }
      }



      // hit description (tertiary attribute)

      // display all other attributes?
      if (true) {
        res += '<dl class="dl-horizontal">';
        for (var attr in hit) {
          if (attr != 'objectID' && attr !== '_highlightResult' && attr != 'CONCEPT_NAME' && attr != 'terminology_name' && attr != 'CONCEPT_CLASS' && attr != 'CONCEPT_CODE' && attr != '') {
            var v;
            if (hit._highlightResult[attr]) {
              v = hit._highlightResult[attr].value;
            } else {
              v = hit[attr];
            }
            
            if (v && (typeof v !== 'string' || v.trim() !== '')) {
              res += "<dt>" + stripTags(attr) + ": </dt><dd>" + stripTags(v) + "</dd>";
            }
          }
          
        }
        res += '</dl>';
      }
      res += '<div class="clearfix"></div></div>';
    }
    $('#hits').html(res);
  
    if (content.facets && !$.isEmptyObject(content.facets)) {
      res = '<ul class="list-unstyled">'
      for (var facet in content.facets) {
        var facets = [];
        for (var f in content.facets[facet]) {
          facets.push([f, content.facets[facet][f]]);
        }
        facets.sort(function(a, b) { return a[1] < b[1] ? 1 : (a[1] > b[1] ? -1 : 0) });
        res += '<li class="m-b-large"><h5>' + facet + '</h5>' +
          '<ol class="list-unstyled m-l">' +
          $.map(facets, function(v) {
            return '<li class="' + stripTags(refinements[facet + ':' + v[0]] ? 'active' : '') + '"><a href="#" onclick="toggleRefinement(\'' + stripTags(facet) + '\', \'' + stripTags(v[0]) + '\'); return false;">' + stripTags(v[0]) + '</a> (' + v[1] + ')</li>';
          }).join('') +
          '</ol></li>';
      }
      res += '</ul>'
      $('#facets').html(res).css('float', 'left').css('width', '200px');
      $('#hits').css('float', 'left').css('width', '600px');
    }
  
    // stats
    $('#stats').html('<b>' + content.nbHits.number_with_delimiter() + '</b> result' + (content.nbHits > 1 ? 's' : '') + ', <b>' + content.processingTimeMS + '</b> ms')
  }
  
  
  $(document).ready(function() {
    var algolia = new AlgoliaSearch('31K5UZ93QX', 'd36dd7750ca00f7e417702bd1664d51a');
    var index = algolia.initIndex('omop_concepts');
  
    window.search = function() {
      var facetFilters = [];
      for (var refine in refinements) {
        if (refinements[refine]) {
          facetFilters.push(refine);
        }
      }
      index.search($("#inputfield input").val(), searchCallback, {
        hitsPerPage: 10,
        facets: '*',
        maxValuesPerFacet: 10,
        facetFilters: facetFilters,
        distinct: 1
      });
    }
  
    $("#inputfield input").keyup(function() {
      refinements = {};
      window.search();
    }).focus();
  
    if ($("#inputfield input").val() !== '') {
      window.search();
    }
  });
</script>
<!--
8<---------------8<---------------8<---------------8<---------------
END COPY/PASTE
-->

</div>
</div>
</div>



<script>
  console.log(
    "Built With:\n" +
    "\n" +
    "                      oooo                                        oooo     oo                \n" +
    "        ooooo         oooo                                       ooooo   ooooo               \n" +
    "       ooooooo        oooo                         oxxxxxxo      ooooo     oo                \n" +
    "      ooooooooo       oooo          ooooo     ooo  oooooooo      ooooo              oooooo   \n" +
    "     oooooooooo       oooo     ooooooooooooo oxxxooxxxxxxxxoo    ooooo    oooo    ooooooooooo\n" +
    "    ooooo  ooooo      oooo    oooooo    oooo  oxxxooo  oooxxxoo  ooooo    oooo           oooo\n" +
    "   ooooo    ooooo     oooo   ooooo      oooo  oxxoo   oxxxxoxxxo ooooo    oooo           oooo\n" +
    "   ooooooooooooooo    oooo   ooooo      oooo  xxxo    oooo  xxxo ooooo    oooo    ooooooooooo\n" +
    "  ooooooooooooooooo   oooo   ooooo      oooo  oxxo         oxxxo ooooo    oooo  oooooo   oooo\n" +
    " ooooo         oooo   oooo    oooooo   ooooo  ooxxoo      ooxxo  ooooo    oooo  ooooo     ooo\n" +
    "ooooo          ooooo  oooooo   ooooooooooooo    oxxxoooooxxxoo    oooooo  oooo   oooooooooooo\n" +
    "oooo            oooo   ooooo           ooooo      oooooooooo       ooooo  oooo     oooooooooo\n" +
    "                               oo      ooooo                                                 \n" +
    "                              ooooooooooooo                                                  \n" +
    "\n" +
    "                      POWERFUL REALTIME SEARCH API BUILT FOR DEVELOPERS\n" +
    "                               http://www.algolia.com/console"
  );
</script>
<script>
  window.analytics=window.analytics||[],window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var key=window.analytics.methods[i];window.analytics[key]=window.analytics.factory(key)}window.analytics.load=function(t){if(!document.getElementById("analytics-js")){var a=document.createElement("script");a.type="text/javascript",a.id="analytics-js",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.io/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)}},window.analytics.SNIPPET_VERSION="2.0.9",
  window.analytics.load("a1u47srrv4");
  window.analytics.identify(2263, {"email":"ryan.vass.junk@gmail.com"}, { Intercom: { user_hash: '8bdde656b5ffd46cfc4c454fb3d41966f94ed251315e0f8a26a735407bd36030'} });
  
  
  window.analytics.page();
</script>
</body>
</html>

